<%- include('partials/header', { bodyClass: typeof bodyClass !== 'undefined' ? bodyClass : '' }) %>

<section class="hero hero-wrapper overlay-jade hero-aesthetic"
         style="background-image: url('<%= (post && post.image) || "/wp-content/uploads/2025/08/1756337637059-D728EFDD-6518-482B-8387-71F5FC36CB53.png" %>'); background-repeat: no-repeat; background-size: cover; background-position: center center;">
  <div class="hero-overlay" aria-hidden="true"></div>
  <div class="content-wrapper container position-relative">
    <div class="row align-items-end justify-content-center">
      <div class="col-lg-10 col-md-11 col-sm-12 text-center">
        <h4 class="hero-eyebrow mb-2"><%= post && post.category ? post.category : 'Blog' %></h4>
        <h1 class="hero-title mt-1 mb-0"><%= post && post.title ? post.title : 'Blog Post' %></h1>
        <% if (post && post.readMin) { %>
          <p class="mt-3" style="opacity: 0.9;">⏱ <%= post.readMin %></p>
        <% } %>
      </div>
    </div>
  </div>
</section>

<style>
  /* Hero overlay: switch to brand yellow tint */
  .hero-aesthetic .hero-overlay {
    background: linear-gradient(180deg,
      rgba(var(--brand-lime-rgb), 0.35) 0%,
      rgba(var(--brand-lime-rgb), 0.20) 40%,
      rgba(var(--brand-lime-rgb), 0.35) 100%
    );
  }
  /* Ensure hero text is yellow for brand consistency and readability */
  .hero-aesthetic .hero-title,
  .hero-aesthetic .hero-eyebrow,
  .hero-aesthetic .content-wrapper p {
    color: var(--brand-lime) !important;
    text-shadow: 0 2px 10px rgba(0,0,0,0.35);
  }
  /* Strong override: make ALL hero text yellow */
  .hero-aesthetic .content-wrapper,
  .hero-aesthetic .content-wrapper * {
    color: var(--brand-lime) !important;
  }
  /* Article styles */
  .post-article { padding: 2.25rem 0 3rem; }
  .post-article .post-meta { color: var(--brand-lime) !important; font-weight: 700; letter-spacing: .02em; }
  .post-article .post-meta .badge.category { background: transparent !important; border: 2px solid var(--brand-lime); color: var(--brand-lime) !important; font-weight: 800; }
  .post-article .post-meta .badge.time { background: transparent; border: 2px solid var(--brand-lime); color: var(--brand-lime); font-weight: 800; }
  .post-article .post-figure { border-radius: 16px; overflow: hidden; box-shadow: 0 12px 28px rgba(0,0,0,.16); }
  .post-article .content p { font-size: 1.05rem; line-height: 1.8; margin: 0 0 1.15rem; color: var(--brand-lime) !important; }
  .post-article .content h2, .post-article .content h3 { font-weight: 800; margin-top: 1.5rem; color: var(--brand-lime) !important; }
  .post-article .content a { color: var(--brand-lime) !important; text-decoration-color: var(--brand-lime) !important; text-underline-offset: 2px; }
  .post-article .content a:hover { filter: brightness(1.05); }
  .post-article .content img { max-width: 100%; height: auto; border-radius: 12px; }
  .post-article .back-link { display: inline-block; margin-top: 1rem; color: var(--brand-lime) !important; }
  /* Strong override: make ALL article text yellow */
  .post-article,
  .post-article * {
    color: var(--brand-lime) !important;
  }
  /* Back to Blog button: yellow bg with green text */
  .post-article .back-link.btn.btn-primary-dark {
    background-color: var(--brand-lime) !important;
    border-color: var(--brand-lime) !important;
    color: var(--brand-blue) !important;
    font-weight: 800;
  }
  .post-article .back-link.btn.btn-primary-dark:hover,
  .post-article .back-link.btn.btn-primary-dark:focus {
    filter: brightness(1.05);
    background-color: color-mix(in srgb, var(--brand-lime) 85%, #000 15%) !important;
    border-color: color-mix(in srgb, var(--brand-lime) 85%, #000 15%) !important;
    color: var(--brand-blue) !important;
    box-shadow: 0 8px 18px rgba(0,0,0,.18);
  }
</style>

<section class="post-article">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-9 col-md-10">
        <div class="post-meta mb-3">
          <% if (post && post.category) { %>
            <span class="badge category me-2"><%= post.category %></span>
          <% } %>
          <% if (post && post.readMin) { %>
            <span class="badge time"><%= post.readMin %></span>
          <% } %>
        </div>

        <% if (post && post.image) { %>
          <figure class="post-figure mb-4">
            <img src="<%= post.image %>" alt="<%= post.title %>" class="img-fluid" />
          </figure>
        <% } %>

        <article class="content">
          <% if (post && post.body) { %>
            <%- post.body %>
          <% } else if (post && post.excerpt) { %>
            <p><%= post.excerpt %></p>
          <% } else { %>
            <p>We couldn't find the full content for this post yet. Please check back soon.</p>
          <% } %>
        </article>

        <a href="/blog" class="back-link btn btn-primary-dark">← Back to Blog</a>
      </div>
    </div>
  </div>
</section>

<%- include('partials/footer') %>
